import{j as t,r as i}from"./react-DnEnySv6.js";import{c as z}from"./react-dom-C2mD8NYu.js";/* empty css                      */import{L as k,O as P,R as Q,a as b,H as W}from"./react-router-CKSRewAZ.js";import{D as H}from"./react-chartjs-2-Dnrsd5DL.js";import{C as Y,A as K,p as U,a as X}from"./chart.js-DA7td7KI.js";import"./cookie-59rrEzcK.js";import"./scheduler-CzFDRTuY.js";import"./@kurkle-D8fDXNIl.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();const G="/dont-vape/assets/logo-Dys1a5Cm.png",J="_header_1ljda_1",tt="_header__logo_1ljda_13",et="_header__logoLink_1ljda_25",st="_header__icon_1ljda_29",nt="_header__menuBtn_1ljda_41",it="_header__backBtn_1ljda_60",q={header:J,header__logo:tt,header__logoLink:et,header__icon:st,header__menuBtn:nt,header__backBtn:it},at="_menu_2ziaa_1",lt="_menu__item_2ziaa_24",ot="_menu__link_2ziaa_36",ct="_menu__icon_2ziaa_40",w={menu:at,menu__item:lt,menu__link:ot,menu__icon:ct};function rt({setStateMenu:e,headerIcon:s,setHeaderIcon:a}){return t.jsx("nav",{children:t.jsxs("ul",{className:w.menu,children:[t.jsx(k,{onClick:()=>{e(!1),a("back")},className:w.menu__link,to:"/profile",children:t.jsxs("li",{className:w.menu__item,children:[t.jsx("svg",{className:w.menu__icon,xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#000000",children:t.jsx("path",{d:"M237-285q54-38 115.5-56.5T480-360q66 0 127.5 18.5T723-285q35-41 52-91t17-104q0-129.67-91.23-220.84-91.23-91.16-221-91.16Q350-792 259-700.84 168-609.67 168-480q0 54 17 104t52 91Zm243-123q-60 0-102-42t-42-102q0-60 42-102t102-42q60 0 102 42t42 102q0 60-42 102t-102 42Zm.28 312Q401-96 331-126t-122.5-82.5Q156-261 126-330.96t-30-149.5Q96-560 126-629.5q30-69.5 82.5-122T330.96-834q69.96-30 149.5-30t149.04 30q69.5 30 122 82.5T834-629.28q30 69.73 30 149Q864-401 834-331t-82.5 122.5Q699-156 629.28-126q-69.73 30-149 30Zm-.28-72q52 0 100-16.5t90-48.5q-43-27-91-41t-99-14q-51 0-99.5 13.5T290-233q42 32 90 48.5T480-168Zm0-312q30 0 51-21t21-51q0-30-21-51t-51-21q-30 0-51 21t-21 51q0 30 21 51t51 21Zm0-72Zm0 319Z"})}),t.jsx("p",{children:"Профиль"})]})}),t.jsx(k,{onClick:()=>{e(!1),a("back")},className:w.menu__link,to:"/settings",children:t.jsxs("li",{className:w.menu__item,children:[t.jsx("svg",{className:w.menu__icon,xmlns:"http://www.w3.org/2000/svg",height:"21px",viewBox:"0 -960 960 960",width:"20px",fill:"#000000",children:t.jsx("path",{d:"m403-96-22-114q-23-9-44.5-21T296-259l-110 37-77-133 87-76q-2-12-3-24t-1-25q0-13 1-25t3-24l-87-76 77-133 110 37q19-16 40.5-28t44.5-21l22-114h154l22 114q23 9 44.5 21t40.5 28l110-37 77 133-87 76q2 12 3 24t1 25q0 13-1 25t-3 24l87 76-77 133-110-37q-19 16-40.5 28T579-210L557-96H403Zm59-72h36l19-99q38-7 71-26t57-48l96 32 18-30-76-67q6-17 9.5-35.5T696-480q0-20-3.5-38.5T683-554l76-67-18-30-96 32q-24-29-57-48t-71-26l-19-99h-36l-19 99q-38 7-71 26t-57 48l-96-32-18 30 76 67q-6 17-9.5 35.5T264-480q0 20 3.5 38.5T277-406l-76 67 18 30 96-32q24 29 57 48t71 26l19 99Zm18-168q60 0 102-42t42-102q0-60-42-102t-102-42q-60 0-102 42t-42 102q0 60 42 102t102 42Zm0-144Z"})}),t.jsx("p",{className:w.menu__itemP,children:"Настройки"})]})})]})})}function _t(){const[e,s]=i.useState("menu"),[a,o]=i.useState(!1);return t.jsxs("header",{className:q.header,children:[e==="menu"?t.jsx(t.Fragment,{children:t.jsx("button",{onClick:()=>o(!a),className:q.header__menuBtn,children:t.jsx("span",{className:`${q.header__icon} material-symbols-outlined`,children:"menu"})})}):t.jsx(t.Fragment,{}),e==="back"?t.jsx(t.Fragment,{children:t.jsx("button",{className:q.header__backBtn,children:t.jsx(k,{to:"",children:t.jsx("span",{onClick:()=>s("menu"),className:`${q.header__icon} material-symbols-outlined`,children:"arrow_back_ios"})})})}):t.jsx(t.Fragment,{}),t.jsx(k,{className:q.header__logoLink,to:"",children:t.jsx("img",{onClick:()=>s("menu"),className:q.header__logo,src:G,alt:"Не парю"})}),a&&t.jsx(rt,{setStateMenu:o,headerIcon:e,setHeaderIcon:s})]})}const mt="_navigation_ptts8_1",dt="_navigation__nav_ptts8_14",ut="_navigation__navActive_ptts8_24",ht="_navigation__link_ptts8_28",u={navigation:mt,navigation__nav:dt,navigation__navActive:ut,navigation__link:ht};function pt(){const[e,s]=i.useState("statistics");return t.jsx("nav",{children:t.jsxs("ul",{className:u.navigation,children:[t.jsx(k,{to:"",className:u.navigation__link,children:t.jsx("li",{onClick:()=>s("statistics"),className:`${e==="statistics"?`${u.navigation__nav} ${u.navigation__navActive}`:u.navigation__nav} `,children:"Статистика"})}),t.jsx(k,{to:"/achievements",className:u.navigation__link,children:t.jsx("li",{onClick:()=>s("achievements"),className:`${e==="achievements"?`${u.navigation__nav} ${u.navigation__navActive}`:u.navigation__nav} `,children:"Достижения"})}),t.jsx(k,{to:"/blog",className:u.navigation__link,children:t.jsx("li",{onClick:()=>s("blog"),className:`${e==="blog"?`${u.navigation__nav} ${u.navigation__navActive}`:u.navigation__nav} `,children:"Блог"})})]})})}const gt={};function xt(){return t.jsxs("main",{className:gt.main,children:[t.jsx(pt,{}),t.jsx(P,{})]})}function ft(){return t.jsx("span",{children:"Вход в акк"})}const jt="_blog_iw572_1",vt="_blog__title_iw572_6",A={blog:jt,blog__title:vt};function Nt(){return t.jsx("section",{className:A.blog,children:t.jsx("h1",{className:A.blog__title,children:"Блог"})})}const St="_notFound_1tgdz_1",bt="_notFound__link_1tgdz_9",B={notFound:St,notFound__link:bt};function wt(){return t.jsxs("section",{className:B.notFound,children:[t.jsx("h1",{children:"Страница не найдена :("}),t.jsx(k,{className:B.notFound__link,to:"/",children:t.jsx("p",{children:"На главную"})})]})}const kt="_profile_e3jv7_1",$t="_profile__title_e3jv7_7",qt="_profile__avatar_e3jv7_10",Tt="_profile__inputAvatar_e3jv7_18",yt="_profile__labelAvatar_e3jv7_21",Ct="_profile__form_e3jv7_29",It="_profile__input_e3jv7_18",v={profile:kt,profile__title:$t,profile__avatar:qt,profile__inputAvatar:Tt,profile__labelAvatar:yt,profile__form:Ct,profile__input:It},Ft="/dont-vape/assets/no-avatar2-ECt9iyYM.png",Dt="_startButton_1rirf_1",At={startButton:Dt};function Bt({handleStart:e}){return t.jsx("button",{onClick:e,className:At.startButton,children:"Начать"})}function Vt({handleStart:e}){const{name:s,setName:a}=i.useContext(y),{timeDontVape:o,setTimeDontVape:n,isRunning:l}=i.useContext(y),[h,d]=i.useState(Ft),[f,c]=i.useState(""),r=m=>{const p=m.target.files[0];if(p){const g=new FileReader;g.onloadend=()=>{d(g.result),localStorage.setItem("avatar",g.result)},g.readAsDataURL(p)}},_=m=>{m.preventDefault()},C=m=>{const p=m.target.value;c(p);const g=new Date(p).getTime();n(g),localStorage.setItem("DateStopSmoke",g)};return i.useEffect(()=>{const m=localStorage.getItem("DateStopSmoke");if(m){const g=new Date(parseInt(m,10)).toISOString().slice(0,16);c(g)}},[]),i.useEffect(()=>{localStorage.setItem("name",s)},[s]),i.useEffect(()=>{const m=localStorage.getItem("avatar");m&&d(m)},[]),t.jsxs("section",{className:v.profile,children:[t.jsx("h1",{className:v.profile__title,children:"Профиль"}),t.jsx("img",{className:v.profile__avatar,src:h,alt:"ваше фото"}),t.jsx("label",{className:v.profile__labelAvatar,htmlFor:"imageInput",children:"Выбрать фото"}),t.jsx("input",{accept:"image/*",type:"file",id:"imageInput",onChange:r,className:v.profile__inputAvatar}),t.jsxs("form",{className:v.profile__form,onSubmit:_,children:[t.jsx("label",{htmlFor:"inputName",children:"Ваше имя"}),t.jsx("input",{placeholder:"Введите имя",id:"inputName",value:s,onChange:m=>a(m.target.value),type:"text",className:v.profile__input})]}),l&&t.jsxs("form",{className:v.profile__form,onSubmit:_,children:[t.jsx("label",{htmlFor:"inputDate",children:"Не курю с: "}),t.jsx("input",{id:"inputDate",type:"datetime-local",value:f,onChange:C,className:v.profile__input})]})]})}const Rt="_achievements_1cmkf_1",Lt="_achievements__title_1cmkf_7",V={achievements:Rt,achievements__title:Lt},x=[{id:0,title:"Старт",time:0},{id:1,title:"2 часа",time:2*60*60*1e3},{id:2,title:"12 часов",time:12*60*60*1e3},{id:3,title:"1 день",time:1*24*60*60*1e3},{id:4,title:"3 дня",time:3*24*60*60*1e3},{id:5,title:"7 дней",time:7*24*60*60*1e3},{id:6,title:"10 дней",time:10*24*60*60*1e3},{id:7,title:"14 дней",time:14*24*60*60*1e3},{id:8,title:"21 день",time:21*24*60*60*1e3},{id:9,title:"30 дней",time:30*24*60*60*1e3},{id:10,title:"40 дней",time:40*24*60*60*1e3},{id:11,title:"50 дней",time:50*24*60*60*1e3},{id:12,title:"60 дней",time:60*24*60*60*1e3},{id:13,title:"75 дней",time:75*24*60*60*1e3},{id:14,title:"90 дней",time:90*24*60*60*1e3}],Pt="_steps_v6i2h_1",Et="_steps__itemTitle_v6i2h_9",Zt="_steps__itemTitle2_v6i2h_13",Mt="_steps__item_v6i2h_9",Ot="_steps__itemFinish_v6i2h_17",T={steps:Pt,steps__itemTitle:Et,steps__itemTitle2:Zt,steps__item:Mt,steps__itemFinish:Ot};function zt(){const{timeDontVape:e,formatTime:s,isRunning:a}=i.useContext(y);return t.jsx("ul",{className:T.steps,children:x.map(o=>{const n=o.time/1e3-e;return t.jsxs("li",{className:n>0||a===!1?T.steps__item:T.steps__itemFinish,children:[t.jsx("h1",{className:T.steps__itemTitle,children:o.title}),n>0?t.jsx(t.Fragment,{children:t.jsxs("p",{className:T.steps__itemTitle2,children:["Осталось: ",s(n)]})}):t.jsx(t.Fragment,{children:a===!1?t.jsx("p",{className:T.steps__itemTitle2,children:'Нажмите кнопку "Начать"'}):t.jsx("p",{className:T.steps__itemTitle2,children:"Готово"})})]},o.id)})})}function Qt(){return t.jsxs("section",{className:V.achievements,children:[t.jsx("h1",{className:V.achievements__title,children:"Достижения"}),t.jsx(zt,{})]})}const Wt="_settings_1yvp2_1",R={settings:Wt};function Ht(){return t.jsx("span",{className:R.settings,children:t.jsx("h1",{className:R.settings__title,children:"Настройки"})})}const Yt="_hello_12umk_1",Kt="_hello__name_12umk_8",Ut="_hello__text_12umk_11",Xt="_hello__title_12umk_25",N={hello:Yt,hello__name:Kt,hello__text:Ut,hello__title:Xt};function Gt(){const{name:e}=i.useContext(y),{isRunning:s}=i.useContext(y);return t.jsx("div",{className:N.hello,children:s===!1?t.jsxs(t.Fragment,{children:[e?t.jsxs("h1",{className:N.hello__title,children:["Привет, ",t.jsx("span",{className:N.hello__name,children:e})]}):t.jsx("h1",{className:N.hello__title,children:"Привет"}),t.jsx("p",{className:N.hello__text,children:"Начни бросать курить прямо сейчас!"})]}):t.jsxs(t.Fragment,{children:[e?t.jsxs("h1",{className:N.hello__title,children:["С возвращением, ",t.jsx("span",{className:N.hello__name,children:e})]}):t.jsx("h1",{className:N.hello__title,children:"С возвращением"}),t.jsx("p",{className:N.hello__text,children:"Пока вас не было, ваша статистика улучшилась, хорошая работа!"})]})})}const Jt="_iVapeButton_1hsn7_1",te={iVapeButton:Jt};function ee({handleRestart:e}){return t.jsx("button",{onClick:e,className:te.iVapeButton,children:"Я покурил"})}const se="_window_r9jon_1",ne="_window__textContent_r9jon_30",ie="_window__button_r9jon_33",D={window:se,window__textContent:ne,window__button:ie};function ae({stateIVapeWindow:e,setStateIVapeWindow:s}){return t.jsxs("div",{className:D.window,children:[t.jsx("p",{className:D.window__textContent,children:"Срывы случаются, и это нормально. Важно не сдаваться и продолжать двигаться вперед. Помните, что каждый день — это новый шанс начать заново. Вы сможете!"}),t.jsx("button",{onClick:()=>s(!1),className:D.window__button,children:"Продолжить"})]})}const le="_statistics_1g6pc_1",oe="_statistics__timer_1g6pc_18",ce="_statistics__block_1g6pc_31",re="_statistics__title_1g6pc_37",_e="_statistics__p_1g6pc_44",j={statistics:le,statistics__timer:oe,statistics__block:ce,statistics__title:re,statistics__p:_e},me="_chart_z6dlm_1",de={chart:me};Y.register(K,U,X);const ue={id:"centerTextPlugin",afterDraw:e=>{const{ctx:s,chartArea:{top:a,right:o,bottom:n,left:l,width:h,height:d}}=e,f=(l+o)/2,c=(a+n)/2,r=e.data.datasets[0].data[0],_=e.data.datasets[0].data.reduce((m,p)=>m+p,0),C=(r/_*100).toFixed(2);s.save(),s.font="bold 24px Arial",s.fillStyle="#333",s.textAlign="center",s.textBaseline="middle",s.fillText(`${C}%`,f,c),s.restore()}},L=({value:e,maxValue:s})=>{const a={labels:["Progress","Remaining"],datasets:[{data:[e,s-e],backgroundColor:["#1a38a5","#e0e0e0"],borderWidth:0}]},o={cutout:"80%",plugins:{legend:{display:!1},tooltip:{enabled:!1},centerTextPlugin:{enabled:!0}},elements:{arc:{borderWidth:2,borderColor:"#ffffff"}},layout:{padding:20}};return t.jsx("div",{className:de.chart,style:{width:"300px",height:"300px"},children:t.jsx(H,{data:a,options:o,plugins:[ue]})})};function he(){const{timeDontVape:e,setTimeDontVape:s,isRunning:a,setIsRunning:o,formatTime:n}=i.useContext(y),l=i.useRef(null),[h,d]=i.useState(!1),f=()=>{l.current=setInterval(()=>{const S=localStorage.getItem("DateStopSmoke");s(Math.round((new Date().getTime()-S)/1e3))},1e3)};i.useEffect(()=>(a&&f(),()=>{l.current&&clearInterval(l.current)}),[a]);const c=()=>{if(a)return;l.current&&clearInterval(l.current),localStorage.getItem("DateStopSmoke")||localStorage.setItem("DateStopSmoke",new Date().getTime()),o(!0),localStorage.setItem("isRunning",!0),f()},r=()=>{a&&(d(!0),s(0),n(e),localStorage.setItem("DateStopSmoke",new Date().getTime()))};i.useEffect(()=>{n(e),M(e*1e3),Z(e*1e3)},[e]);const[_,C]=i.useState(0),[m,p]=i.useState(0),[g,E]=i.useState(""),Z=S=>{let I=null,F=null;for(let $=1;$<x.length;$++){const O=()=>{I=S-x[$-1].time,F=x[$].time-x[$-1].time,E(x[$].title)};if(x[$].time>S){O();break}}I/F*100<100?p(I/F*100):p(100)},M=S=>{S/x[x.length-1].time*100<100?C(S/x[x.length-1].time*100):C(100)};return t.jsxs(t.Fragment,{children:[t.jsx(Gt,{}),h&&t.jsx(ae,{stateIVapeWindow:h,setStateIVapeWindow:d}),a===!1?t.jsx(Bt,{handleStart:c}):t.jsxs(t.Fragment,{children:[t.jsx(ee,{handleRestart:r}),t.jsxs("h1",{className:j.statistics__timer,children:["Не курю: ",n(e)]})]}),a===!1?t.jsx(t.Fragment,{}):t.jsxs("div",{className:j.statistics,children:[t.jsxs("div",{className:j.statistics__block,children:[t.jsxs("h2",{className:j.statistics__title,children:["Текущая цель (",g,")"]}),t.jsx("p",{className:j.statistics__p,children:"Прогресс вашей текущей цели"}),t.jsx("div",{className:j.statistics__chart,children:t.jsx(L,{value:m,maxValue:100})})]}),t.jsxs("div",{className:j.statistics__block,children:[t.jsx("h2",{className:j.statistics__title,children:"Полный прогресс"}),t.jsx("p",{className:j.statistics__p,children:"Общий прогресс в оздоровлении вашего организма"}),t.jsx("div",{className:j.statistics__chart,children:t.jsx(L,{value:_,maxValue:100})})]})]}),t.jsx(P,{})]})}const y=i.createContext(0);function pe(){const[e,s]=i.useState(0),[a,o]=i.useState(!1),[n,l]=i.useState(localStorage.getItem("name")?localStorage.getItem("name"):"");i.useEffect(()=>{localStorage.getItem("isRunning")?o(localStorage.getItem("isRunning")):o(!1);const d=localStorage.getItem("name");d&&l(d)},[]);const h=d=>{const f=d%60,c=Math.floor(d/60%60),r=Math.floor(d/60/60%24),_=Math.floor(d/60/60/24);if(c===0&&r===0&&_===0)return`${f} сек`;if(r===0&&_===0&&c!==0)return`${c} мин ${f} сек`;if(_===0&&r>=2&&c!==0)return`${r} час ${c} мин`;if(_===0&&r!==0&&c!==0)return`${r} ч ${c} мин ${f} сек`;if(_>=30&&r!==0&&c!==0)return`${_} д`;if(_>=7&&r!==0&&c!==0)return`${_} д ${r} ч`;if(_!==0&&r!==0&&c!==0)return`${_} д ${r} ч ${c} мин`};return t.jsx(t.Fragment,{children:t.jsxs(y.Provider,{value:{timeDontVape:e,setTimeDontVape:s,isRunning:a,setIsRunning:o,name:n,setName:l,formatTime:h},children:[t.jsx(_t,{}),t.jsxs(Q,{children:[t.jsxs(b,{path:"",element:t.jsx(xt,{}),children:[t.jsx(b,{path:"",element:t.jsx(he,{})}),t.jsx(b,{path:"/achievements",element:t.jsx(Qt,{})}),t.jsx(b,{path:"/blog",element:t.jsx(Nt,{})})]}),t.jsx(b,{path:"/profile",element:t.jsx(Vt,{})}),t.jsx(b,{path:"/settings",element:t.jsx(Ht,{})}),t.jsx(b,{path:"/login",element:t.jsx(ft,{})}),t.jsx(b,{path:"*",element:t.jsx(wt,{})})]})]})})}z(document.getElementById("root")).render(t.jsx(W,{children:t.jsx(pe,{})}));
