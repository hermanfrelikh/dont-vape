import{j as e,r as o}from"./react-DnEnySv6.js";import{c as R}from"./react-dom-C2mD8NYu.js";/* empty css                      */import{L as f,O as B,R as D,a as p,H as A}from"./react-router-CKSRewAZ.js";import{D as V}from"./react-chartjs-2-Dnrsd5DL.js";import{C as L,A as P,p as z,a as Z}from"./chart.js-DA7td7KI.js";import"./cookie-59rrEzcK.js";import"./scheduler-CzFDRTuY.js";import"./@kurkle-D8fDXNIl.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function a(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(s){if(s.ep)return;s.ep=!0;const i=a(s);fetch(s.href,i)}})();const M="/dont-vape/assets/logo-Dys1a5Cm.png",E="_header_1ljda_1",O="_header__logo_1ljda_13",Q="_header__logoLink_1ljda_25",W="_header__icon_1ljda_29",H="_header__menuBtn_1ljda_41",K="_header__backBtn_1ljda_60",j={header:E,header__logo:O,header__logoLink:Q,header__icon:W,header__menuBtn:H,header__backBtn:K},U="_menu_2ziaa_1",X="_menu__item_2ziaa_24",Y="_menu__link_2ziaa_36",G="_menu__icon_2ziaa_40",x={menu:U,menu__item:X,menu__link:Y,menu__icon:G};function J({setStateMenu:t,headerIcon:n,setHeaderIcon:a}){return e.jsx("nav",{children:e.jsxs("ul",{className:x.menu,children:[e.jsx(f,{onClick:()=>{t(!1),a("back")},className:x.menu__link,to:"/profile",children:e.jsxs("li",{className:x.menu__item,children:[e.jsx("svg",{className:x.menu__icon,xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#000000",children:e.jsx("path",{d:"M237-285q54-38 115.5-56.5T480-360q66 0 127.5 18.5T723-285q35-41 52-91t17-104q0-129.67-91.23-220.84-91.23-91.16-221-91.16Q350-792 259-700.84 168-609.67 168-480q0 54 17 104t52 91Zm243-123q-60 0-102-42t-42-102q0-60 42-102t102-42q60 0 102 42t42 102q0 60-42 102t-102 42Zm.28 312Q401-96 331-126t-122.5-82.5Q156-261 126-330.96t-30-149.5Q96-560 126-629.5q30-69.5 82.5-122T330.96-834q69.96-30 149.5-30t149.04 30q69.5 30 122 82.5T834-629.28q30 69.73 30 149Q864-401 834-331t-82.5 122.5Q699-156 629.28-126q-69.73 30-149 30Zm-.28-72q52 0 100-16.5t90-48.5q-43-27-91-41t-99-14q-51 0-99.5 13.5T290-233q42 32 90 48.5T480-168Zm0-312q30 0 51-21t21-51q0-30-21-51t-51-21q-30 0-51 21t-21 51q0 30 21 51t51 21Zm0-72Zm0 319Z"})}),e.jsx("p",{children:"Профиль"})]})}),e.jsx(f,{onClick:()=>{t(!1),a("back")},className:x.menu__link,to:"/settings",children:e.jsxs("li",{className:x.menu__item,children:[e.jsx("svg",{className:x.menu__icon,xmlns:"http://www.w3.org/2000/svg",height:"21px",viewBox:"0 -960 960 960",width:"20px",fill:"#000000",children:e.jsx("path",{d:"m403-96-22-114q-23-9-44.5-21T296-259l-110 37-77-133 87-76q-2-12-3-24t-1-25q0-13 1-25t3-24l-87-76 77-133 110 37q19-16 40.5-28t44.5-21l22-114h154l22 114q23 9 44.5 21t40.5 28l110-37 77 133-87 76q2 12 3 24t1 25q0 13-1 25t-3 24l87 76-77 133-110-37q-19 16-40.5 28T579-210L557-96H403Zm59-72h36l19-99q38-7 71-26t57-48l96 32 18-30-76-67q6-17 9.5-35.5T696-480q0-20-3.5-38.5T683-554l76-67-18-30-96 32q-24-29-57-48t-71-26l-19-99h-36l-19 99q-38 7-71 26t-57 48l-96-32-18 30 76 67q-6 17-9.5 35.5T264-480q0 20 3.5 38.5T277-406l-76 67 18 30 96-32q24 29 57 48t71 26l19 99Zm18-168q60 0 102-42t42-102q0-60-42-102t-102-42q-60 0-102 42t-42 102q0 60 42 102t102 42Zm0-144Z"})}),e.jsx("p",{className:x.menu__itemP,children:"Настройки"})]})})]})})}function ee(){const[t,n]=o.useState("menu"),[a,l]=o.useState(!1);return e.jsxs("header",{className:j.header,children:[t==="menu"?e.jsx(e.Fragment,{children:e.jsx("button",{onClick:()=>l(!a),className:j.header__menuBtn,children:e.jsx("span",{className:`${j.header__icon} material-symbols-outlined`,children:"menu"})})}):e.jsx(e.Fragment,{}),t==="back"?e.jsx(e.Fragment,{children:e.jsx("button",{onClick:()=>n("menu"),className:j.header__backBtn,children:e.jsx(f,{to:"",children:e.jsx("span",{className:`${j.header__icon} material-symbols-outlined`,children:"arrow_back_ios"})})})}):e.jsx(e.Fragment,{}),e.jsx(f,{className:j.header__logoLink,to:"",children:e.jsx("img",{onClick:()=>n("menu"),className:j.header__logo,src:M,alt:"Не парю"})}),a&&e.jsx(J,{setStateMenu:l,headerIcon:t,setHeaderIcon:n})]})}const te="_navigation_ptts8_1",ne="_navigation__nav_ptts8_14",se="_navigation__navActive_ptts8_24",ie="_navigation__link_ptts8_28",d={navigation:te,navigation__nav:ne,navigation__navActive:se,navigation__link:ie};function ae(){const[t,n]=o.useState("statistics");return e.jsx("nav",{children:e.jsxs("ul",{className:d.navigation,children:[e.jsx(f,{to:"",className:d.navigation__link,children:e.jsx("li",{onClick:()=>n("statistics"),className:`${t==="statistics"?`${d.navigation__nav} ${d.navigation__navActive}`:d.navigation__nav} `,children:"Статистика"})}),e.jsx(f,{to:"/achievements",className:d.navigation__link,children:e.jsx("li",{onClick:()=>n("achievements"),className:`${t==="achievements"?`${d.navigation__nav} ${d.navigation__navActive}`:d.navigation__nav} `,children:"Достижения"})}),e.jsx(f,{to:"/blog",className:d.navigation__link,children:e.jsx("li",{onClick:()=>n("blog"),className:`${t==="blog"?`${d.navigation__nav} ${d.navigation__navActive}`:d.navigation__nav} `,children:"Блог"})})]})})}const le={};function oe(){return e.jsxs("main",{className:le.main,children:[e.jsx(ae,{}),e.jsx(B,{})]})}function re(){return e.jsx("span",{children:"Вход в акк"})}const ce="_blog_iw572_1",_e="_blog__title_iw572_6",T={blog:ce,blog__title:_e};function me(){return e.jsx("section",{className:T.blog,children:e.jsx("h1",{className:T.blog__title,children:"Блог"})})}const de="_notFound_1tgdz_1",he="_notFound__link_1tgdz_9",C={notFound:de,notFound__link:he};function ue(){return e.jsxs("section",{className:C.notFound,children:[e.jsx("h1",{children:"Страница не найдена :("}),e.jsx(f,{className:C.notFound__link,to:"/",children:e.jsx("p",{children:"На главную"})})]})}const ge="_profile_1518d_1",pe="_profile__title_1518d_7",xe="_profile__avatar_1518d_10",fe="_profile__formName_1518d_16",$={profile:ge,profile__title:pe,profile__avatar:xe,profile__formName:fe};function je(){const{name:t,setName:n}=o.useContext(N),[a,l]=o.useState("../../../public/img/no-avatar.png"),s=i=>{const m=i.target.files[0];if(m){const h=new FileReader;h.onloadend=()=>{l(h.result)},h.readAsDataURL(m)}localStorage.setItem("avatar",m)};return e.jsxs("section",{className:$.profile,children:[e.jsx("h1",{className:$.profile__title,children:"Профиль"}),e.jsx("img",{className:$.profile__avatar,src:a,alt:"ваше фото"}),e.jsx("input",{accept:"image/*",type:"file",id:"imageInput",onChange:s}),e.jsxs("form",{className:$.profile__formName,children:[e.jsx("label",{htmlFor:"inputName",children:"Ваше имя"}),e.jsx("input",{id:"inputName",value:t,onChange:i=>n(i.target.value),type:"text"})]})]})}const ve="_achievements_1cmkf_1",Ne="_achievements__title_1cmkf_7",F={achievements:ve,achievements__title:Ne},b=[{id:1,title:"2 часа",time:60*1e3},{id:2,title:"12 часов",time:12*60*60*1e3},{id:3,title:"1 день",time:1*24*60*60*1e3},{id:4,title:"3 дня",time:3*24*60*60*1e3},{id:5,title:"7 дней",time:7*24*60*60*1e3},{id:6,title:"10 дней",time:10*24*60*60*1e3},{id:7,title:"14 дней",time:14*24*60*60*1e3},{id:8,title:"21 день",time:21*24*60*60*1e3},{id:9,title:"30 дней",time:30*24*60*60*1e3},{id:10,title:"40 дней",time:40*24*60*60*1e3},{id:11,title:"50 дней",time:50*24*60*60*1e3},{id:12,title:"60 дней",time:60*24*60*60*1e3},{id:13,title:"75 дней",time:75*24*60*60*1e3},{id:14,title:"90 дней",time:90*24*60*60*1e3},{id:15,title:"120 дней",time:120*24*60*60*1e3},{id:16,title:"150 дней",time:150*24*60*60*1e3},{id:17,title:"180 дней",time:180*24*60*60*1e3},{id:18,title:"225 дней",time:225*24*60*60*1e3},{id:19,title:"270 дней",time:270*24*60*60*1e3},{id:20,title:"360 дней",time:360*24*60*60*1e3}],be="_steps_1vh5b_1",we="_steps__itemTitle_1vh5b_9",$e="_steps__itemTitle2_1vh5b_13",ke="_steps__item_1vh5b_9",qe="_steps__itemFinish_1vh5b_17",v={steps:be,steps__itemTitle:we,steps__itemTitle2:$e,steps__item:ke,steps__itemFinish:qe};function ye(){const{timeDontVape:t,formatTime:n,isRunning:a}=o.useContext(N);return e.jsx("ul",{className:v.steps,children:b.map(l=>{const s=l.time/1e3-t;return e.jsxs("li",{className:s>0||a===!1?v.steps__item:v.steps__itemFinish,children:[e.jsx("h1",{className:v.steps__itemTitle,children:l.title}),s>0?e.jsx(e.Fragment,{children:e.jsxs("p",{className:v.steps__itemTitle2,children:["Осталось: ",n(s)]})}):e.jsx(e.Fragment,{children:a===!1?e.jsx("h2",{children:"Начните"}):e.jsx("p",{className:v.steps__itemTitle2,children:"Готово"})})]},l.id)})})}function Se(){return e.jsxs("section",{className:F.achievements,children:[e.jsx("h1",{className:F.achievements__title,children:"Достижения"}),e.jsx(ye,{})]})}const Te="_settings_1yvp2_1",I={settings:Te};function Ce(){return e.jsx("span",{className:I.settings,children:e.jsx("h1",{className:I.settings__title,children:"Настройки"})})}const Fe="_hello_nzhoy_1",Ie="_hello__name_nzhoy_8",Be="_hello__text_nzhoy_11",Re="_hello__title_nzhoy_25",u={hello:Fe,hello__name:Ie,hello__text:Be,hello__title:Re};function De(){const{name:t}=o.useContext(N),{isRunning:n}=o.useContext(N);return e.jsx("div",{className:u.hello,children:n===!1?e.jsxs(e.Fragment,{children:[t?e.jsxs("h1",{className:u.hello__title,children:["Привет, ",e.jsx("span",{className:u.hello__name,children:t})]}):e.jsx("h1",{className:u.hello__title,children:"Привет"}),e.jsx("p",{className:u.hello__text,children:"Начни бросать курить прямо сейчас!"})]}):e.jsxs(e.Fragment,{children:[t?e.jsxs("h1",{className:u.hello__title,children:["С возвращением, ",e.jsx("span",{className:u.hello__name,children:t})]}):e.jsx("h1",{className:u.hello__title,children:"С возвращением"}),e.jsx("p",{className:u.hello__text,children:"Пока вас не было, ваша статистика улучшилась, хорошая работа!"})]})})}const Ae="_startButton_1rirf_1",Ve={startButton:Ae};function Le({handleStart:t}){return e.jsx("button",{onClick:t,className:Ve.startButton,children:"Начать"})}const Pe="_iVapeButton_1hsn7_1",ze={iVapeButton:Pe};function Ze({handleRestart:t}){return e.jsx("button",{onClick:t,className:ze.iVapeButton,children:"Я покурил"})}const Me="_window_r9jon_1",Ee="_window__textContent_r9jon_30",Oe="_window__button_r9jon_33",y={window:Me,window__textContent:Ee,window__button:Oe};function Qe({stateIVapeWindow:t,setStateIVapeWindow:n}){return e.jsxs("div",{className:y.window,children:[e.jsx("p",{className:y.window__textContent,children:"Срывы случаются, и это нормально. Важно не сдаваться и продолжать двигаться вперед. Помните, что каждый день — это новый шанс начать заново. Вы сможете!"}),e.jsx("button",{onClick:()=>n(!1),className:y.window__button,children:"Продолжить"})]})}const We="_main__timer_18pbl_1",He={main__timer:We},Ke="_chart_z6dlm_1",Ue={chart:Ke};L.register(P,z,Z);const Xe={id:"centerTextPlugin",afterDraw:t=>{const{ctx:n,chartArea:{top:a,right:l,bottom:s,left:i,width:m,height:h}}=t,g=(i+l)/2,r=(a+s)/2,c=t.data.datasets[0].data[0],_=t.data.datasets[0].data.reduce((k,q)=>k+q,0),w=(c/_*100).toFixed(2);n.save(),n.font="bold 24px Arial",n.fillStyle="#333",n.textAlign="center",n.textBaseline="middle",n.fillText(`${w}%`,g,r),n.restore()}},Ye=({value:t,maxValue:n})=>{const a={labels:["Progress","Remaining"],datasets:[{data:[t,n-t],backgroundColor:["#1a38a5","#e0e0e0"],borderWidth:0}]},l={cutout:"80%",plugins:{legend:{display:!1},tooltip:{enabled:!1},centerTextPlugin:{enabled:!0}},elements:{arc:{borderWidth:2,borderColor:"#ffffff"}},layout:{padding:20}};return e.jsx("div",{className:Ue.chart,style:{width:"300px",height:"300px"},children:e.jsx(V,{data:a,options:l,plugins:[Xe]})})};function Ge(){const{timeDontVape:t,setTimeDontVape:n,isRunning:a,setIsRunning:l,formatTime:s}=o.useContext(N),i=o.useRef(null),[m,h]=o.useState(!1),g=()=>{setInterval(()=>{i.current=localStorage.getItem("DateStopSmoke"),n(Math.round((new Date().getTime()-i.current)/1e3))},1e3)};o.useEffect(()=>{g()},[]);const r=()=>{i.current&&clearInterval(i.current),localStorage.getItem("DateStopSmoke")&&(i.current=localStorage.getItem("DateStopSmoke")),localStorage.getItem("DateStopSmoke")===null&&(i.current=new Date().getTime()),localStorage.setItem("DateStopSmoke",i.current),!a&&(l(!0),localStorage.setItem("isRunning",!0),g())},c=()=>{h(!0),n(0),s(t),i.current=new Date().getTime(),localStorage.setItem("DateStopSmoke",i.current)};o.useEffect(()=>{s(t),q(t*1e3)},[t]);const[_,w]=o.useState(35.02),k=100,q=S=>{S/b[b.length-1].time*100<100?w(S/b[b.length-1].time*100):w(100)};return e.jsxs(e.Fragment,{children:[e.jsx(De,{}),m&&e.jsx(Qe,{stateIVapeWindow:m,setStateIVapeWindow:h}),a===!1?e.jsx(Le,{handleStart:r}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{handleRestart:c}),e.jsxs("h1",{className:He.main__timer,children:["Не курю: ",s(t)]})]}),a===!1?e.jsx(e.Fragment,{}):e.jsx(Ye,{value:_,maxValue:k}),e.jsx(B,{})]})}const N=o.createContext(0);function Je(){const[t,n]=o.useState(0),[a,l]=o.useState(!1),[s,i]=o.useState("");o.useEffect(()=>{localStorage.getItem("isRunning")?l(localStorage.getItem("isRunning")):l(!1)},[]);const m=h=>{const g=h%60,r=Math.floor(h/60%60),c=Math.floor(h/60/60%24),_=Math.floor(h/60/60/24);if(r===0&&c===0&&_===0)return`${g} сек`;if(c===0&&_===0&&r!==0)return`${r} мин ${g} сек`;if(_===0&&c>=2&&r!==0)return`${c} час ${r} мин`;if(_===0&&c!==0&&r!==0)return`${c} ч ${r} мин ${g} сек`;if(_>=30&&c!==0&&r!==0)return`${_} д`;if(_>=7&&c!==0&&r!==0)return`${_} д ${c} ч`;if(_!==0&&c!==0&&r!==0)return`${_} д ${c} ч ${r} мин`};return e.jsx(e.Fragment,{children:e.jsxs(N.Provider,{value:{timeDontVape:t,setTimeDontVape:n,isRunning:a,setIsRunning:l,name:s,setName:i,formatTime:m},children:[e.jsx(ee,{}),e.jsxs(D,{children:[e.jsxs(p,{path:"",element:e.jsx(oe,{}),children:[e.jsx(p,{path:"",element:e.jsx(Ge,{})}),e.jsx(p,{path:"/achievements",element:e.jsx(Se,{})}),e.jsx(p,{path:"/blog",element:e.jsx(me,{})})]}),e.jsx(p,{path:"/profile",element:e.jsx(je,{})}),e.jsx(p,{path:"/settings",element:e.jsx(Ce,{})}),e.jsx(p,{path:"/login",element:e.jsx(re,{})}),e.jsx(p,{path:"*",element:e.jsx(ue,{})})]})]})})}R(document.getElementById("root")).render(e.jsx(A,{children:e.jsx(Je,{})}));
