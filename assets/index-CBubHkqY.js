import{j as t,r as o}from"./react-DnEnySv6.js";import{c as z}from"./react-dom-C2mD8NYu.js";/* empty css                      */import{L as v,O as L,R as Q,a as f,H as W}from"./react-router-CKSRewAZ.js";import{D as H}from"./react-chartjs-2-Dnrsd5DL.js";import{C as K,A as U,p as X,a as Y}from"./chart.js-DA7td7KI.js";import"./cookie-59rrEzcK.js";import"./scheduler-CzFDRTuY.js";import"./@kurkle-D8fDXNIl.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();const G="/dont-vape/assets/logo-Dys1a5Cm.png",J="_header_1ljda_1",tt="_header__logo_1ljda_13",et="_header__logoLink_1ljda_25",st="_header__icon_1ljda_29",nt="_header__menuBtn_1ljda_41",it="_header__backBtn_1ljda_60",k={header:J,header__logo:tt,header__logoLink:et,header__icon:st,header__menuBtn:nt,header__backBtn:it},at="_menu_2ziaa_1",lt="_menu__item_2ziaa_24",ot="_menu__link_2ziaa_36",ct="_menu__icon_2ziaa_40",j={menu:at,menu__item:lt,menu__link:ot,menu__icon:ct};function rt({setStateMenu:e,headerIcon:s,setHeaderIcon:a}){return t.jsx("nav",{children:t.jsxs("ul",{className:j.menu,children:[t.jsx(v,{onClick:()=>{e(!1),a("back")},className:j.menu__link,to:"/profile",children:t.jsxs("li",{className:j.menu__item,children:[t.jsx("svg",{className:j.menu__icon,xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#000000",children:t.jsx("path",{d:"M237-285q54-38 115.5-56.5T480-360q66 0 127.5 18.5T723-285q35-41 52-91t17-104q0-129.67-91.23-220.84-91.23-91.16-221-91.16Q350-792 259-700.84 168-609.67 168-480q0 54 17 104t52 91Zm243-123q-60 0-102-42t-42-102q0-60 42-102t102-42q60 0 102 42t42 102q0 60-42 102t-102 42Zm.28 312Q401-96 331-126t-122.5-82.5Q156-261 126-330.96t-30-149.5Q96-560 126-629.5q30-69.5 82.5-122T330.96-834q69.96-30 149.5-30t149.04 30q69.5 30 122 82.5T834-629.28q30 69.73 30 149Q864-401 834-331t-82.5 122.5Q699-156 629.28-126q-69.73 30-149 30Zm-.28-72q52 0 100-16.5t90-48.5q-43-27-91-41t-99-14q-51 0-99.5 13.5T290-233q42 32 90 48.5T480-168Zm0-312q30 0 51-21t21-51q0-30-21-51t-51-21q-30 0-51 21t-21 51q0 30 21 51t51 21Zm0-72Zm0 319Z"})}),t.jsx("p",{children:"Профиль"})]})}),t.jsx(v,{onClick:()=>{e(!1),a("back")},className:j.menu__link,to:"/settings",children:t.jsxs("li",{className:j.menu__item,children:[t.jsx("svg",{className:j.menu__icon,xmlns:"http://www.w3.org/2000/svg",height:"21px",viewBox:"0 -960 960 960",width:"20px",fill:"#000000",children:t.jsx("path",{d:"m403-96-22-114q-23-9-44.5-21T296-259l-110 37-77-133 87-76q-2-12-3-24t-1-25q0-13 1-25t3-24l-87-76 77-133 110 37q19-16 40.5-28t44.5-21l22-114h154l22 114q23 9 44.5 21t40.5 28l110-37 77 133-87 76q2 12 3 24t1 25q0 13-1 25t-3 24l87 76-77 133-110-37q-19 16-40.5 28T579-210L557-96H403Zm59-72h36l19-99q38-7 71-26t57-48l96 32 18-30-76-67q6-17 9.5-35.5T696-480q0-20-3.5-38.5T683-554l76-67-18-30-96 32q-24-29-57-48t-71-26l-19-99h-36l-19 99q-38 7-71 26t-57 48l-96-32-18 30 76 67q-6 17-9.5 35.5T264-480q0 20 3.5 38.5T277-406l-76 67 18 30 96-32q24 29 57 48t71 26l19 99Zm18-168q60 0 102-42t42-102q0-60-42-102t-102-42q-60 0-102 42t-42 102q0 60 42 102t102 42Zm0-144Z"})}),t.jsx("p",{className:j.menu__itemP,children:"Настройки"})]})})]})})}function _t(){const[e,s]=o.useState("menu"),[a,l]=o.useState(!1);return t.jsxs("header",{className:k.header,children:[e==="menu"?t.jsx(t.Fragment,{children:t.jsx("button",{onClick:()=>l(!a),className:k.header__menuBtn,children:t.jsx("span",{className:`${k.header__icon} material-symbols-outlined`,children:"menu"})})}):t.jsx(t.Fragment,{}),e==="back"?t.jsx(t.Fragment,{children:t.jsx("button",{onClick:()=>s("menu"),className:k.header__backBtn,children:t.jsx(v,{to:"",children:t.jsx("span",{className:`${k.header__icon} material-symbols-outlined`,children:"arrow_back_ios"})})})}):t.jsx(t.Fragment,{}),t.jsx(v,{className:k.header__logoLink,to:"",children:t.jsx("img",{onClick:()=>s("menu"),className:k.header__logo,src:G,alt:"Не парю"})}),a&&t.jsx(rt,{setStateMenu:l,headerIcon:e,setHeaderIcon:s})]})}const mt="_navigation_ptts8_1",dt="_navigation__nav_ptts8_14",ut="_navigation__navActive_ptts8_24",ht="_navigation__link_ptts8_28",d={navigation:mt,navigation__nav:dt,navigation__navActive:ut,navigation__link:ht};function pt(){const[e,s]=o.useState("statistics");return t.jsx("nav",{children:t.jsxs("ul",{className:d.navigation,children:[t.jsx(v,{to:"",className:d.navigation__link,children:t.jsx("li",{onClick:()=>s("statistics"),className:`${e==="statistics"?`${d.navigation__nav} ${d.navigation__navActive}`:d.navigation__nav} `,children:"Статистика"})}),t.jsx(v,{to:"/achievements",className:d.navigation__link,children:t.jsx("li",{onClick:()=>s("achievements"),className:`${e==="achievements"?`${d.navigation__nav} ${d.navigation__navActive}`:d.navigation__nav} `,children:"Достижения"})}),t.jsx(v,{to:"/blog",className:d.navigation__link,children:t.jsx("li",{onClick:()=>s("blog"),className:`${e==="blog"?`${d.navigation__nav} ${d.navigation__navActive}`:d.navigation__nav} `,children:"Блог"})})]})})}const xt={};function gt(){return t.jsxs("main",{className:xt.main,children:[t.jsx(pt,{}),t.jsx(L,{})]})}function ft(){return t.jsx("span",{children:"Вход в акк"})}const jt="_blog_iw572_1",vt="_blog__title_iw572_6",B={blog:jt,blog__title:vt};function Nt(){return t.jsx("section",{className:B.blog,children:t.jsx("h1",{className:B.blog__title,children:"Блог"})})}const kt="_notFound_1tgdz_1",bt="_notFound__link_1tgdz_9",R={notFound:kt,notFound__link:bt};function wt(){return t.jsxs("section",{className:R.notFound,children:[t.jsx("h1",{children:"Страница не найдена :("}),t.jsx(v,{className:R.notFound__link,to:"/",children:t.jsx("p",{children:"На главную"})})]})}const St="_profile_1518d_1",$t="_profile__title_1518d_7",qt="_profile__avatar_1518d_10",yt="_profile__formName_1518d_16",y={profile:St,profile__title:$t,profile__avatar:qt,profile__formName:yt};function Tt(){const{name:e,setName:s}=o.useContext(w),[a,l]=o.useState("../../../public/img/no-avatar.png"),n=i=>{const m=i.target.files[0];if(m){const u=new FileReader;u.onloadend=()=>{l(u.result)},u.readAsDataURL(m)}localStorage.setItem("avatar",m)};return t.jsxs("section",{className:y.profile,children:[t.jsx("h1",{className:y.profile__title,children:"Профиль"}),t.jsx("img",{className:y.profile__avatar,src:a,alt:"ваше фото"}),t.jsx("input",{accept:"image/*",type:"file",id:"imageInput",onChange:n}),t.jsxs("form",{className:y.profile__formName,children:[t.jsx("label",{htmlFor:"inputName",children:"Ваше имя"}),t.jsx("input",{id:"inputName",value:e,onChange:i=>s(i.target.value),type:"text"})]})]})}const Ct="_achievements_1cmkf_1",Ft="_achievements__title_1cmkf_7",D={achievements:Ct,achievements__title:Ft},h=[{id:0,title:"Старт",time:0},{id:1,title:"2 часа",time:2*60*60*1e3},{id:2,title:"12 часов",time:12*60*60*1e3},{id:3,title:"1 день",time:1*24*60*60*1e3},{id:4,title:"3 дня",time:3*24*60*60*1e3},{id:5,title:"7 дней",time:7*24*60*60*1e3},{id:6,title:"10 дней",time:10*24*60*60*1e3},{id:7,title:"14 дней",time:14*24*60*60*1e3},{id:8,title:"21 день",time:21*24*60*60*1e3},{id:9,title:"30 дней",time:30*24*60*60*1e3},{id:10,title:"40 дней",time:40*24*60*60*1e3},{id:11,title:"50 дней",time:50*24*60*60*1e3},{id:12,title:"60 дней",time:60*24*60*60*1e3},{id:13,title:"75 дней",time:75*24*60*60*1e3},{id:14,title:"90 дней",time:90*24*60*60*1e3},{id:15,title:"120 дней",time:120*24*60*60*1e3},{id:16,title:"150 дней",time:150*24*60*60*1e3},{id:17,title:"180 дней",time:180*24*60*60*1e3}],It="_steps_v6i2h_1",Bt="_steps__itemTitle_v6i2h_9",Rt="_steps__itemTitle2_v6i2h_13",Dt="_steps__item_v6i2h_9",At="_steps__itemFinish_v6i2h_17",b={steps:It,steps__itemTitle:Bt,steps__itemTitle2:Rt,steps__item:Dt,steps__itemFinish:At};function Vt(){const{timeDontVape:e,formatTime:s,isRunning:a}=o.useContext(w);return t.jsx("ul",{className:b.steps,children:h.map(l=>{const n=l.time/1e3-e;return t.jsxs("li",{className:n>0||a===!1?b.steps__item:b.steps__itemFinish,children:[t.jsx("h1",{className:b.steps__itemTitle,children:l.title}),n>0?t.jsx(t.Fragment,{children:t.jsxs("p",{className:b.steps__itemTitle2,children:["Осталось: ",s(n)]})}):t.jsx(t.Fragment,{children:a===!1?t.jsx("p",{className:b.steps__itemTitle2,children:'Нажмите кнопку "Начать"'}):t.jsx("p",{className:b.steps__itemTitle2,children:"Готово"})})]},l.id)})})}function Lt(){return t.jsxs("section",{className:D.achievements,children:[t.jsx("h1",{className:D.achievements__title,children:"Достижения"}),t.jsx(Vt,{})]})}const Pt="_settings_1yvp2_1",A={settings:Pt};function Zt(){return t.jsx("span",{className:A.settings,children:t.jsx("h1",{className:A.settings__title,children:"Настройки"})})}const Mt="_hello_12umk_1",Et="_hello__name_12umk_8",Ot="_hello__text_12umk_11",zt="_hello__title_12umk_25",x={hello:Mt,hello__name:Et,hello__text:Ot,hello__title:zt};function Qt(){const{name:e}=o.useContext(w),{isRunning:s}=o.useContext(w);return t.jsx("div",{className:x.hello,children:s===!1?t.jsxs(t.Fragment,{children:[e?t.jsxs("h1",{className:x.hello__title,children:["Привет, ",t.jsx("span",{className:x.hello__name,children:e})]}):t.jsx("h1",{className:x.hello__title,children:"Привет"}),t.jsx("p",{className:x.hello__text,children:"Начни бросать курить прямо сейчас!"})]}):t.jsxs(t.Fragment,{children:[e?t.jsxs("h1",{className:x.hello__title,children:["С возвращением, ",t.jsx("span",{className:x.hello__name,children:e})]}):t.jsx("h1",{className:x.hello__title,children:"С возвращением"}),t.jsx("p",{className:x.hello__text,children:"Пока вас не было, ваша статистика улучшилась, хорошая работа!"})]})})}const Wt="_startButton_1rirf_1",Ht={startButton:Wt};function Kt({handleStart:e}){return t.jsx("button",{onClick:e,className:Ht.startButton,children:"Начать"})}const Ut="_iVapeButton_1hsn7_1",Xt={iVapeButton:Ut};function Yt({handleRestart:e}){return t.jsx("button",{onClick:e,className:Xt.iVapeButton,children:"Я покурил"})}const Gt="_window_r9jon_1",Jt="_window__textContent_r9jon_30",te="_window__button_r9jon_33",I={window:Gt,window__textContent:Jt,window__button:te};function ee({stateIVapeWindow:e,setStateIVapeWindow:s}){return t.jsxs("div",{className:I.window,children:[t.jsx("p",{className:I.window__textContent,children:"Срывы случаются, и это нормально. Важно не сдаваться и продолжать двигаться вперед. Помните, что каждый день — это новый шанс начать заново. Вы сможете!"}),t.jsx("button",{onClick:()=>s(!1),className:I.window__button,children:"Продолжить"})]})}const se="_statistics_6u2a2_1",ne="_statistics__timer_6u2a2_18",ie="_statistics__block_6u2a2_31",ae="_statistics__title_6u2a2_37",le="_statistics__p_6u2a2_44",p={statistics:se,statistics__timer:ne,statistics__block:ie,statistics__title:ae,statistics__p:le},oe="_chart_z6dlm_1",ce={chart:oe};K.register(U,X,Y);const re={id:"centerTextPlugin",afterDraw:e=>{const{ctx:s,chartArea:{top:a,right:l,bottom:n,left:i,width:m,height:u}}=e,g=(i+l)/2,c=(a+n)/2,r=e.data.datasets[0].data[0],_=e.data.datasets[0].data.reduce((T,q)=>T+q,0),$=(r/_*100).toFixed(2);s.save(),s.font="bold 24px Arial",s.fillStyle="#333",s.textAlign="center",s.textBaseline="middle",s.fillText(`${$}%`,g,c),s.restore()}},V=({value:e,maxValue:s})=>{const a={labels:["Progress","Remaining"],datasets:[{data:[e,s-e],backgroundColor:["#1a38a5","#e0e0e0"],borderWidth:0}]},l={cutout:"80%",plugins:{legend:{display:!1},tooltip:{enabled:!1},centerTextPlugin:{enabled:!0}},elements:{arc:{borderWidth:2,borderColor:"#ffffff"}},layout:{padding:20}};return t.jsx("div",{className:ce.chart,style:{width:"300px",height:"300px"},children:t.jsx(H,{data:a,options:l,plugins:[re]})})};function _e(){const{timeDontVape:e,setTimeDontVape:s,isRunning:a,setIsRunning:l,formatTime:n}=o.useContext(w),i=o.useRef(null),[m,u]=o.useState(!1),g=()=>{setInterval(()=>{i.current=localStorage.getItem("DateStopSmoke"),s(Math.round((new Date().getTime()-i.current)/1e3))},1e3)};o.useEffect(()=>{g()},[]);const c=()=>{i.current&&clearInterval(i.current),localStorage.getItem("DateStopSmoke")&&(i.current=localStorage.getItem("DateStopSmoke")),localStorage.getItem("DateStopSmoke")===null&&(i.current=new Date().getTime()),localStorage.setItem("DateStopSmoke",i.current),!a&&(l(!0),localStorage.setItem("isRunning",!0),g())},r=()=>{u(!0),s(0),n(e),i.current=new Date().getTime(),localStorage.setItem("DateStopSmoke",i.current)};o.useEffect(()=>{n(e),E(e*1e3),M(e*1e3)},[e]);const[_,$]=o.useState(0),[T,q]=o.useState(0),[P,Z]=o.useState(""),M=S=>{let C=null,F=null;for(let N=1;N<h.length;N++){const O=()=>{C=S-h[N-1].time,F=h[N].time-h[N-1].time,Z(h[N].title)};if(h[N].time>S){O();break}}C/F*100<100?q(C/F*100):q(100)},E=S=>{S/h[h.length-1].time*100<100?$(S/h[h.length-1].time*100):$(100)};return t.jsxs(t.Fragment,{children:[t.jsx(Qt,{}),m&&t.jsx(ee,{stateIVapeWindow:m,setStateIVapeWindow:u}),a===!1?t.jsx(Kt,{handleStart:c}):t.jsxs(t.Fragment,{children:[t.jsx(Yt,{handleRestart:r}),t.jsxs("h1",{className:p.statistics__timer,children:["Не курю: ",n(e)]})]}),a===!1?t.jsx(t.Fragment,{}):t.jsxs("div",{className:p.statistics,children:[t.jsxs("div",{className:p.statistics__block,children:[t.jsxs("h2",{className:p.statistics__title,children:["Текущая цель (",P,")"]}),t.jsx("p",{className:p.statistics__p,children:"Общий прогресс в оздоровлении вашего организма"}),t.jsx("div",{className:p.statistics__chart,children:t.jsx(V,{value:T,maxValue:100})})]}),t.jsxs("div",{className:p.statistics__block,children:[t.jsx("h2",{className:p.statistics__title,children:"Полный прогресс"}),t.jsx("p",{className:p.statistics__p,children:"Общий прогресс в оздоровлении вашего организма"}),t.jsx("div",{className:p.statistics__chart,children:t.jsx(V,{value:_,maxValue:100})})]})]}),t.jsx(L,{})]})}const w=o.createContext(0);function me(){const[e,s]=o.useState(0),[a,l]=o.useState(!1),[n,i]=o.useState("");o.useEffect(()=>{localStorage.getItem("isRunning")?l(localStorage.getItem("isRunning")):l(!1)},[]);const m=u=>{const g=u%60,c=Math.floor(u/60%60),r=Math.floor(u/60/60%24),_=Math.floor(u/60/60/24);if(c===0&&r===0&&_===0)return`${g} сек`;if(r===0&&_===0&&c!==0)return`${c} мин ${g} сек`;if(_===0&&r>=2&&c!==0)return`${r} час ${c} мин`;if(_===0&&r!==0&&c!==0)return`${r} ч ${c} мин ${g} сек`;if(_>=30&&r!==0&&c!==0)return`${_} д`;if(_>=7&&r!==0&&c!==0)return`${_} д ${r} ч`;if(_!==0&&r!==0&&c!==0)return`${_} д ${r} ч ${c} мин`};return t.jsx(t.Fragment,{children:t.jsxs(w.Provider,{value:{timeDontVape:e,setTimeDontVape:s,isRunning:a,setIsRunning:l,name:n,setName:i,formatTime:m},children:[t.jsx(_t,{}),t.jsxs(Q,{children:[t.jsxs(f,{path:"",element:t.jsx(gt,{}),children:[t.jsx(f,{path:"",element:t.jsx(_e,{})}),t.jsx(f,{path:"/achievements",element:t.jsx(Lt,{})}),t.jsx(f,{path:"/blog",element:t.jsx(Nt,{})})]}),t.jsx(f,{path:"/profile",element:t.jsx(Tt,{})}),t.jsx(f,{path:"/settings",element:t.jsx(Zt,{})}),t.jsx(f,{path:"/login",element:t.jsx(ft,{})}),t.jsx(f,{path:"*",element:t.jsx(wt,{})})]})]})})}z(document.getElementById("root")).render(t.jsx(W,{children:t.jsx(me,{})}));
