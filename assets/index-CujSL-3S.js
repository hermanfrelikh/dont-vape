import{j as t,r as l}from"./react-DnEnySv6.js";import{c as z}from"./react-dom-C2mD8NYu.js";/* empty css                      */import{L as w,O as L,R as Q,a as N,H as W}from"./react-router-CKSRewAZ.js";import{D as H}from"./react-chartjs-2-Dnrsd5DL.js";import{C as Y,A as K,p as U,a as X}from"./chart.js-DA7td7KI.js";import"./cookie-59rrEzcK.js";import"./scheduler-CzFDRTuY.js";import"./@kurkle-D8fDXNIl.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const h of i.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&c(h)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();const G="/dont-vape/assets/logo-Dys1a5Cm.png",J="_header_1ljda_1",tt="_header__logo_1ljda_13",et="_header__logoLink_1ljda_25",st="_header__icon_1ljda_29",nt="_header__menuBtn_1ljda_41",it="_header__backBtn_1ljda_60",k={header:J,header__logo:tt,header__logoLink:et,header__icon:st,header__menuBtn:nt,header__backBtn:it},at="_menu_2ziaa_1",lt="_menu__item_2ziaa_24",ot="_menu__link_2ziaa_36",ct="_menu__icon_2ziaa_40",S={menu:at,menu__item:lt,menu__link:ot,menu__icon:ct};function rt({setStateMenu:e,headerIcon:s,setHeaderIcon:o}){return t.jsx("nav",{children:t.jsxs("ul",{className:S.menu,children:[t.jsx(w,{onClick:()=>{e(!1),o("back")},className:S.menu__link,to:"/profile",children:t.jsxs("li",{className:S.menu__item,children:[t.jsx("svg",{className:S.menu__icon,xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#000000",children:t.jsx("path",{d:"M237-285q54-38 115.5-56.5T480-360q66 0 127.5 18.5T723-285q35-41 52-91t17-104q0-129.67-91.23-220.84-91.23-91.16-221-91.16Q350-792 259-700.84 168-609.67 168-480q0 54 17 104t52 91Zm243-123q-60 0-102-42t-42-102q0-60 42-102t102-42q60 0 102 42t42 102q0 60-42 102t-102 42Zm.28 312Q401-96 331-126t-122.5-82.5Q156-261 126-330.96t-30-149.5Q96-560 126-629.5q30-69.5 82.5-122T330.96-834q69.96-30 149.5-30t149.04 30q69.5 30 122 82.5T834-629.28q30 69.73 30 149Q864-401 834-331t-82.5 122.5Q699-156 629.28-126q-69.73 30-149 30Zm-.28-72q52 0 100-16.5t90-48.5q-43-27-91-41t-99-14q-51 0-99.5 13.5T290-233q42 32 90 48.5T480-168Zm0-312q30 0 51-21t21-51q0-30-21-51t-51-21q-30 0-51 21t-21 51q0 30 21 51t51 21Zm0-72Zm0 319Z"})}),t.jsx("p",{children:"Профиль"})]})}),t.jsx(w,{onClick:()=>{e(!1),o("back")},className:S.menu__link,to:"/settings",children:t.jsxs("li",{className:S.menu__item,children:[t.jsx("svg",{className:S.menu__icon,xmlns:"http://www.w3.org/2000/svg",height:"21px",viewBox:"0 -960 960 960",width:"20px",fill:"#000000",children:t.jsx("path",{d:"m403-96-22-114q-23-9-44.5-21T296-259l-110 37-77-133 87-76q-2-12-3-24t-1-25q0-13 1-25t3-24l-87-76 77-133 110 37q19-16 40.5-28t44.5-21l22-114h154l22 114q23 9 44.5 21t40.5 28l110-37 77 133-87 76q2 12 3 24t1 25q0 13-1 25t-3 24l87 76-77 133-110-37q-19 16-40.5 28T579-210L557-96H403Zm59-72h36l19-99q38-7 71-26t57-48l96 32 18-30-76-67q6-17 9.5-35.5T696-480q0-20-3.5-38.5T683-554l76-67-18-30-96 32q-24-29-57-48t-71-26l-19-99h-36l-19 99q-38 7-71 26t-57 48l-96-32-18 30 76 67q-6 17-9.5 35.5T264-480q0 20 3.5 38.5T277-406l-76 67 18 30 96-32q24 29 57 48t71 26l19 99Zm18-168q60 0 102-42t42-102q0-60-42-102t-102-42q-60 0-102 42t-42 102q0 60 42 102t102 42Zm0-144Z"})}),t.jsx("p",{className:S.menu__itemP,children:"Настройки"})]})})]})})}function _t(){const[e,s]=l.useState("menu"),[o,c]=l.useState(!1);return t.jsxs("header",{className:k.header,children:[e==="menu"?t.jsx(t.Fragment,{children:t.jsx("button",{onClick:()=>c(!o),className:k.header__menuBtn,children:t.jsx("span",{className:`${k.header__icon} material-symbols-outlined`,children:"menu"})})}):t.jsx(t.Fragment,{}),e==="back"?t.jsx(t.Fragment,{children:t.jsx("button",{onClick:()=>s("menu"),className:k.header__backBtn,children:t.jsx(w,{to:"",children:t.jsx("span",{className:`${k.header__icon} material-symbols-outlined`,children:"arrow_back_ios"})})})}):t.jsx(t.Fragment,{}),t.jsx(w,{className:k.header__logoLink,to:"",children:t.jsx("img",{onClick:()=>s("menu"),className:k.header__logo,src:G,alt:"Не парю"})}),o&&t.jsx(rt,{setStateMenu:c,headerIcon:e,setHeaderIcon:s})]})}const mt="_navigation_ptts8_1",dt="_navigation__nav_ptts8_14",ut="_navigation__navActive_ptts8_24",ht="_navigation__link_ptts8_28",u={navigation:mt,navigation__nav:dt,navigation__navActive:ut,navigation__link:ht};function pt(){const[e,s]=l.useState("statistics");return t.jsx("nav",{children:t.jsxs("ul",{className:u.navigation,children:[t.jsx(w,{to:"",className:u.navigation__link,children:t.jsx("li",{onClick:()=>s("statistics"),className:`${e==="statistics"?`${u.navigation__nav} ${u.navigation__navActive}`:u.navigation__nav} `,children:"Статистика"})}),t.jsx(w,{to:"/achievements",className:u.navigation__link,children:t.jsx("li",{onClick:()=>s("achievements"),className:`${e==="achievements"?`${u.navigation__nav} ${u.navigation__navActive}`:u.navigation__nav} `,children:"Достижения"})}),t.jsx(w,{to:"/blog",className:u.navigation__link,children:t.jsx("li",{onClick:()=>s("blog"),className:`${e==="blog"?`${u.navigation__nav} ${u.navigation__navActive}`:u.navigation__nav} `,children:"Блог"})})]})})}const gt={};function xt(){return t.jsxs("main",{className:gt.main,children:[t.jsx(pt,{}),t.jsx(L,{})]})}function ft(){return t.jsx("span",{children:"Вход в акк"})}const jt="_blog_iw572_1",vt="_blog__title_iw572_6",F={blog:jt,blog__title:vt};function Nt(){return t.jsx("section",{className:F.blog,children:t.jsx("h1",{className:F.blog__title,children:"Блог"})})}const St="_notFound_1tgdz_1",wt="_notFound__link_1tgdz_9",A={notFound:St,notFound__link:wt};function bt(){return t.jsxs("section",{className:A.notFound,children:[t.jsx("h1",{children:"Страница не найдена :("}),t.jsx(w,{className:A.notFound__link,to:"/",children:t.jsx("p",{children:"На главную"})})]})}const kt="_profile_2swxp_1",$t="_profile__title_2swxp_7",qt="_profile__avatar_2swxp_10",yt="_profile__inputAvatar_2swxp_16",Tt="_profile__labelAvatar_2swxp_19",Ct="_profile__form_2swxp_27",Dt="_profile__inputName_2swxp_32",It="_profile__inputDate_2swxp_43",j={profile:kt,profile__title:$t,profile__avatar:qt,profile__inputAvatar:yt,profile__labelAvatar:Tt,profile__form:Ct,profile__inputName:Dt,profile__inputDate:It},Ft="/dont-vape/assets/no-avatar2-ECt9iyYM.png";function At(){const{name:e,setName:s}=l.useContext(q),{timeDontVape:o,setTimeDontVape:c}=l.useContext(q),[n,i]=l.useState(Ft),[h,m]=l.useState(""),x=a=>{const p=a.target.files[0];if(p){const d=new FileReader;d.onloadend=()=>{i(d.result),localStorage.setItem("avatar",d.result)},d.readAsDataURL(p)}},r=a=>{a.preventDefault()},_=a=>{const p=a.target.value;m(p);const d=new Date(p).getTime();c(d),localStorage.setItem("DateStopSmoke",d)};return l.useEffect(()=>{const a=localStorage.getItem("DateStopSmoke");if(a){const d=new Date(parseInt(a,10)).toISOString().slice(0,16);m(d)}},[]),l.useEffect(()=>{localStorage.setItem("name",e)},[e]),l.useEffect(()=>{const a=localStorage.getItem("avatar");a&&i(a)},[]),t.jsxs("section",{className:j.profile,children:[t.jsx("h1",{className:j.profile__title,children:"Профиль"}),t.jsx("img",{className:j.profile__avatar,src:n,alt:"ваше фото"}),t.jsx("label",{className:j.profile__labelAvatar,htmlFor:"imageInput",children:"Выбрать фото"}),t.jsx("input",{accept:"image/*",type:"file",id:"imageInput",onChange:x,className:j.profile__inputAvatar}),t.jsxs("form",{className:j.profile__form,onSubmit:r,children:[t.jsx("label",{htmlFor:"inputName",children:"Ваше имя"}),t.jsx("input",{placeholder:"Введите имя",id:"inputName",value:e,onChange:a=>s(a.target.value),type:"text",className:j.profile__inputName})]}),t.jsxs("form",{className:j.profile__form,onSubmit:r,children:[t.jsx("label",{htmlFor:"inputDate",children:"Не курю с: "}),t.jsx("input",{id:"inputDate",type:"datetime-local",value:h,onChange:_,className:j.profile__inputDate})]})]})}const Bt="_achievements_1cmkf_1",Vt="_achievements__title_1cmkf_7",B={achievements:Bt,achievements__title:Vt},g=[{id:0,title:"Старт",time:0},{id:1,title:"2 часа",time:2*60*60*1e3},{id:2,title:"12 часов",time:12*60*60*1e3},{id:3,title:"1 день",time:1*24*60*60*1e3},{id:4,title:"3 дня",time:3*24*60*60*1e3},{id:5,title:"7 дней",time:7*24*60*60*1e3},{id:6,title:"10 дней",time:10*24*60*60*1e3},{id:7,title:"14 дней",time:14*24*60*60*1e3},{id:8,title:"21 день",time:21*24*60*60*1e3},{id:9,title:"30 дней",time:30*24*60*60*1e3},{id:10,title:"40 дней",time:40*24*60*60*1e3},{id:11,title:"50 дней",time:50*24*60*60*1e3},{id:12,title:"60 дней",time:60*24*60*60*1e3},{id:13,title:"75 дней",time:75*24*60*60*1e3},{id:14,title:"90 дней",time:90*24*60*60*1e3}],Rt="_steps_v6i2h_1",Lt="_steps__itemTitle_v6i2h_9",Pt="_steps__itemTitle2_v6i2h_13",Et="_steps__item_v6i2h_9",Zt="_steps__itemFinish_v6i2h_17",$={steps:Rt,steps__itemTitle:Lt,steps__itemTitle2:Pt,steps__item:Et,steps__itemFinish:Zt};function Mt(){const{timeDontVape:e,formatTime:s,isRunning:o}=l.useContext(q);return t.jsx("ul",{className:$.steps,children:g.map(c=>{const n=c.time/1e3-e;return t.jsxs("li",{className:n>0||o===!1?$.steps__item:$.steps__itemFinish,children:[t.jsx("h1",{className:$.steps__itemTitle,children:c.title}),n>0?t.jsx(t.Fragment,{children:t.jsxs("p",{className:$.steps__itemTitle2,children:["Осталось: ",s(n)]})}):t.jsx(t.Fragment,{children:o===!1?t.jsx("p",{className:$.steps__itemTitle2,children:'Нажмите кнопку "Начать"'}):t.jsx("p",{className:$.steps__itemTitle2,children:"Готово"})})]},c.id)})})}function Ot(){return t.jsxs("section",{className:B.achievements,children:[t.jsx("h1",{className:B.achievements__title,children:"Достижения"}),t.jsx(Mt,{})]})}const zt="_settings_1yvp2_1",V={settings:zt};function Qt(){return t.jsx("span",{className:V.settings,children:t.jsx("h1",{className:V.settings__title,children:"Настройки"})})}const Wt="_hello_12umk_1",Ht="_hello__name_12umk_8",Yt="_hello__text_12umk_11",Kt="_hello__title_12umk_25",v={hello:Wt,hello__name:Ht,hello__text:Yt,hello__title:Kt};function Ut(){const{name:e}=l.useContext(q),{isRunning:s}=l.useContext(q);return t.jsx("div",{className:v.hello,children:s===!1?t.jsxs(t.Fragment,{children:[e?t.jsxs("h1",{className:v.hello__title,children:["Привет, ",t.jsx("span",{className:v.hello__name,children:e})]}):t.jsx("h1",{className:v.hello__title,children:"Привет"}),t.jsx("p",{className:v.hello__text,children:"Начни бросать курить прямо сейчас!"})]}):t.jsxs(t.Fragment,{children:[e?t.jsxs("h1",{className:v.hello__title,children:["С возвращением, ",t.jsx("span",{className:v.hello__name,children:e})]}):t.jsx("h1",{className:v.hello__title,children:"С возвращением"}),t.jsx("p",{className:v.hello__text,children:"Пока вас не было, ваша статистика улучшилась, хорошая работа!"})]})})}const Xt="_startButton_1rirf_1",Gt={startButton:Xt};function Jt({handleStart:e}){return t.jsx("button",{onClick:e,className:Gt.startButton,children:"Начать"})}const te="_iVapeButton_1hsn7_1",ee={iVapeButton:te};function se({handleRestart:e}){return t.jsx("button",{onClick:e,className:ee.iVapeButton,children:"Я покурил"})}const ne="_window_r9jon_1",ie="_window__textContent_r9jon_30",ae="_window__button_r9jon_33",I={window:ne,window__textContent:ie,window__button:ae};function le({stateIVapeWindow:e,setStateIVapeWindow:s}){return t.jsxs("div",{className:I.window,children:[t.jsx("p",{className:I.window__textContent,children:"Срывы случаются, и это нормально. Важно не сдаваться и продолжать двигаться вперед. Помните, что каждый день — это новый шанс начать заново. Вы сможете!"}),t.jsx("button",{onClick:()=>s(!1),className:I.window__button,children:"Продолжить"})]})}const oe="_statistics_1g6pc_1",ce="_statistics__timer_1g6pc_18",re="_statistics__block_1g6pc_31",_e="_statistics__title_1g6pc_37",me="_statistics__p_1g6pc_44",f={statistics:oe,statistics__timer:ce,statistics__block:re,statistics__title:_e,statistics__p:me},de="_chart_z6dlm_1",ue={chart:de};Y.register(K,U,X);const he={id:"centerTextPlugin",afterDraw:e=>{const{ctx:s,chartArea:{top:o,right:c,bottom:n,left:i,width:h,height:m}}=e,x=(i+c)/2,r=(o+n)/2,_=e.data.datasets[0].data[0],a=e.data.datasets[0].data.reduce((d,T)=>d+T,0),p=(_/a*100).toFixed(2);s.save(),s.font="bold 24px Arial",s.fillStyle="#333",s.textAlign="center",s.textBaseline="middle",s.fillText(`${p}%`,x,r),s.restore()}},R=({value:e,maxValue:s})=>{const o={labels:["Progress","Remaining"],datasets:[{data:[e,s-e],backgroundColor:["#1a38a5","#e0e0e0"],borderWidth:0}]},c={cutout:"80%",plugins:{legend:{display:!1},tooltip:{enabled:!1},centerTextPlugin:{enabled:!0}},elements:{arc:{borderWidth:2,borderColor:"#ffffff"}},layout:{padding:20}};return t.jsx("div",{className:ue.chart,style:{width:"300px",height:"300px"},children:t.jsx(H,{data:o,options:c,plugins:[he]})})};function pe(){const{timeDontVape:e,setTimeDontVape:s,isRunning:o,setIsRunning:c,formatTime:n}=l.useContext(q),i=l.useRef(null),[h,m]=l.useState(!1),x=()=>{setInterval(()=>{i.current=localStorage.getItem("DateStopSmoke"),s(Math.round((new Date().getTime()-i.current)/1e3))},1e3)};l.useEffect(()=>{x()},[]);const r=()=>{i.current&&clearInterval(i.current),localStorage.getItem("DateStopSmoke")&&(i.current=localStorage.getItem("DateStopSmoke")),localStorage.getItem("DateStopSmoke")===null&&(i.current=new Date().getTime()),localStorage.setItem("DateStopSmoke",i.current),!o&&(c(!0),localStorage.setItem("isRunning",!0),x())},_=()=>{m(!0),s(0),n(e),i.current=new Date().getTime(),localStorage.setItem("DateStopSmoke",i.current)};l.useEffect(()=>{n(e),M(e*1e3),Z(e*1e3)},[e]);const[a,p]=l.useState(0),[d,T]=l.useState(0),[P,E]=l.useState(""),Z=y=>{let C=null,D=null;for(let b=1;b<g.length;b++){const O=()=>{C=y-g[b-1].time,D=g[b].time-g[b-1].time,E(g[b].title)};if(g[b].time>y){O();break}}C/D*100<100?T(C/D*100):T(100)},M=y=>{y/g[g.length-1].time*100<100?p(y/g[g.length-1].time*100):p(100)};return t.jsxs(t.Fragment,{children:[t.jsx(Ut,{}),h&&t.jsx(le,{stateIVapeWindow:h,setStateIVapeWindow:m}),o===!1?t.jsx(Jt,{handleStart:r}):t.jsxs(t.Fragment,{children:[t.jsx(se,{handleRestart:_}),t.jsxs("h1",{className:f.statistics__timer,children:["Не курю: ",n(e)]})]}),o===!1?t.jsx(t.Fragment,{}):t.jsxs("div",{className:f.statistics,children:[t.jsxs("div",{className:f.statistics__block,children:[t.jsxs("h2",{className:f.statistics__title,children:["Текущая цель (",P,")"]}),t.jsx("p",{className:f.statistics__p,children:"Прогресс вашей текущей цели"}),t.jsx("div",{className:f.statistics__chart,children:t.jsx(R,{value:d,maxValue:100})})]}),t.jsxs("div",{className:f.statistics__block,children:[t.jsx("h2",{className:f.statistics__title,children:"Полный прогресс"}),t.jsx("p",{className:f.statistics__p,children:"Общий прогресс в оздоровлении вашего организма"}),t.jsx("div",{className:f.statistics__chart,children:t.jsx(R,{value:a,maxValue:100})})]})]}),t.jsx(L,{})]})}const q=l.createContext(0);function ge(){const[e,s]=l.useState(0),[o,c]=l.useState(!1),[n,i]=l.useState(localStorage.getItem("name")?localStorage.getItem("name"):"");l.useEffect(()=>{localStorage.getItem("isRunning")?c(localStorage.getItem("isRunning")):c(!1);const m=localStorage.getItem("name");m&&i(m)},[]);const h=m=>{const x=m%60,r=Math.floor(m/60%60),_=Math.floor(m/60/60%24),a=Math.floor(m/60/60/24);if(r===0&&_===0&&a===0)return`${x} сек`;if(_===0&&a===0&&r!==0)return`${r} мин ${x} сек`;if(a===0&&_>=2&&r!==0)return`${_} час ${r} мин`;if(a===0&&_!==0&&r!==0)return`${_} ч ${r} мин ${x} сек`;if(a>=30&&_!==0&&r!==0)return`${a} д`;if(a>=7&&_!==0&&r!==0)return`${a} д ${_} ч`;if(a!==0&&_!==0&&r!==0)return`${a} д ${_} ч ${r} мин`};return t.jsx(t.Fragment,{children:t.jsxs(q.Provider,{value:{timeDontVape:e,setTimeDontVape:s,isRunning:o,setIsRunning:c,name:n,setName:i,formatTime:h},children:[t.jsx(_t,{}),t.jsxs(Q,{children:[t.jsxs(N,{path:"",element:t.jsx(xt,{}),children:[t.jsx(N,{path:"",element:t.jsx(pe,{})}),t.jsx(N,{path:"/achievements",element:t.jsx(Ot,{})}),t.jsx(N,{path:"/blog",element:t.jsx(Nt,{})})]}),t.jsx(N,{path:"/profile",element:t.jsx(At,{})}),t.jsx(N,{path:"/settings",element:t.jsx(Qt,{})}),t.jsx(N,{path:"/login",element:t.jsx(ft,{})}),t.jsx(N,{path:"*",element:t.jsx(bt,{})})]})]})})}z(document.getElementById("root")).render(t.jsx(W,{children:t.jsx(ge,{})}));
