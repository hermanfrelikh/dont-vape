import{j as t,r as l}from"./react-DjTi2nNI.js";import{c as U}from"./react-dom-DO1i6Q4d.js";/* empty css                      */import{L as $,O as Z,R as X,a as g,H as G}from"./react-router-ChpbbVqw.js";import{u as B,a as M,P as J}from"./react-redux-CexCKN9l.js";import{c as O,a as tt}from"./@reduxjs-CoJy1jWf.js";import{D as et}from"./react-chartjs-2-BObRdppc.js";import{C as st,A as nt,p as it,a as at}from"./chart.js-DA7td7KI.js";import"./cookie-59rrEzcK.js";import"./scheduler-CzFDRTuY.js";import"./use-sync-external-store-BLaJtQ7s.js";import"./redux-DITMfSWq.js";import"./immer-DqxjFn0G.js";import"./redux-thunk-ClJT1hhx.js";import"./@kurkle-D8fDXNIl.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function s(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(a){if(a.ep)return;a.ep=!0;const r=s(a);fetch(a.href,r)}})();const lt="/dont-vape/assets/logo-Dys1a5Cm.png",ot="_header_11u38_1",rt="_header__logo_11u38_13",ct="_header__logoLink_11u38_25",_t="_header__icon_11u38_29",mt="_header__menuBtn_11u38_42",dt="_header__backBtn_11u38_61",v={header:ot,header__logo:rt,header__logoLink:ct,header__icon:_t,header__menuBtn:mt,header__backBtn:dt},ut="_menu_2ziaa_1",ht="_menu__item_2ziaa_24",pt="_menu__link_2ziaa_36",xt="_menu__icon_2ziaa_40",f={menu:ut,menu__item:ht,menu__link:pt,menu__icon:xt};function gt({setStateMenu:e,headerIcon:i,setHeaderIcon:s}){return t.jsx("nav",{children:t.jsxs("ul",{className:f.menu,children:[t.jsx($,{onClick:()=>{e(!1),s("back")},className:f.menu__link,to:"/profile",children:t.jsxs("li",{className:f.menu__item,children:[t.jsx("svg",{className:f.menu__icon,xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"#000000",children:t.jsx("path",{d:"M237-285q54-38 115.5-56.5T480-360q66 0 127.5 18.5T723-285q35-41 52-91t17-104q0-129.67-91.23-220.84-91.23-91.16-221-91.16Q350-792 259-700.84 168-609.67 168-480q0 54 17 104t52 91Zm243-123q-60 0-102-42t-42-102q0-60 42-102t102-42q60 0 102 42t42 102q0 60-42 102t-102 42Zm.28 312Q401-96 331-126t-122.5-82.5Q156-261 126-330.96t-30-149.5Q96-560 126-629.5q30-69.5 82.5-122T330.96-834q69.96-30 149.5-30t149.04 30q69.5 30 122 82.5T834-629.28q30 69.73 30 149Q864-401 834-331t-82.5 122.5Q699-156 629.28-126q-69.73 30-149 30Zm-.28-72q52 0 100-16.5t90-48.5q-43-27-91-41t-99-14q-51 0-99.5 13.5T290-233q42 32 90 48.5T480-168Zm0-312q30 0 51-21t21-51q0-30-21-51t-51-21q-30 0-51 21t-21 51q0 30 21 51t51 21Zm0-72Zm0 319Z"})}),t.jsx("p",{children:"Профиль"})]})}),t.jsx($,{onClick:()=>{e(!1),s("back")},className:f.menu__link,to:"/settings",children:t.jsxs("li",{className:f.menu__item,children:[t.jsx("svg",{className:f.menu__icon,xmlns:"http://www.w3.org/2000/svg",height:"21px",viewBox:"0 -960 960 960",width:"20px",fill:"#000000",children:t.jsx("path",{d:"m403-96-22-114q-23-9-44.5-21T296-259l-110 37-77-133 87-76q-2-12-3-24t-1-25q0-13 1-25t3-24l-87-76 77-133 110 37q19-16 40.5-28t44.5-21l22-114h154l22 114q23 9 44.5 21t40.5 28l110-37 77 133-87 76q2 12 3 24t1 25q0 13-1 25t-3 24l87 76-77 133-110-37q-19 16-40.5 28T579-210L557-96H403Zm59-72h36l19-99q38-7 71-26t57-48l96 32 18-30-76-67q6-17 9.5-35.5T696-480q0-20-3.5-38.5T683-554l76-67-18-30-96 32q-24-29-57-48t-71-26l-19-99h-36l-19 99q-38 7-71 26t-57 48l-96-32-18 30 76 67q-6 17-9.5 35.5T264-480q0 20 3.5 38.5T277-406l-76 67 18 30 96-32q24 29 57 48t71 26l19 99Zm18-168q60 0 102-42t42-102q0-60-42-102t-102-42q-60 0-102 42t-42 102q0 60 42 102t102 42Zm0-144Z"})}),t.jsx("p",{className:f.menu__itemP,children:"Настройки"})]})})]})})}function ft(){const[e,i]=l.useState("menu"),[s,n]=l.useState(!1);return t.jsxs("header",{className:v.header,children:[e==="menu"?t.jsx(t.Fragment,{children:t.jsx("button",{onClick:()=>n(!s),className:v.header__menuBtn,children:t.jsx("span",{className:`${v.header__icon} material-symbols-outlined`,children:"menu"})})}):t.jsx(t.Fragment,{}),e==="back"?t.jsx(t.Fragment,{children:t.jsx("button",{className:v.header__backBtn,children:t.jsx($,{to:"",children:t.jsx("span",{onClick:()=>i("menu"),className:`${v.header__icon} material-symbols-outlined`,children:"arrow_back_ios"})})})}):t.jsx(t.Fragment,{}),t.jsx($,{className:v.header__logoLink,to:"",children:t.jsx("img",{onClick:()=>i("menu"),className:v.header__logo,src:lt,alt:"Не парю"})}),s&&t.jsx(gt,{setStateMenu:n,headerIcon:e,setHeaderIcon:i})]})}const jt="_navigation_1qtr5_1",vt="_navigation__nav_1qtr5_14",Nt="_navigation__navActive_1qtr5_27",St="_navigation__link_1qtr5_34",C={navigation:jt,navigation__nav:vt,navigation__navActive:Nt,navigation__link:St},_=[{id:0,title:"Старт",time:0},{id:1,title:"2 часа",time:2*60*60*1e3},{id:2,title:"12 часов",time:12*60*60*1e3},{id:3,title:"1 день",time:1*24*60*60*1e3},{id:4,title:"3 дня",time:3*24*60*60*1e3},{id:5,title:"7 дней",time:7*24*60*60*1e3},{id:6,title:"10 дней",time:10*24*60*60*1e3},{id:7,title:"14 дней",time:14*24*60*60*1e3},{id:8,title:"21 день",time:21*24*60*60*1e3},{id:9,title:"30 дней",time:30*24*60*60*1e3},{id:10,title:"40 дней",time:40*24*60*60*1e3},{id:11,title:"50 дней",time:50*24*60*60*1e3},{id:12,title:"60 дней",time:60*24*60*60*1e3},{id:13,title:"75 дней",time:75*24*60*60*1e3},{id:14,title:"90 дней",time:90*24*60*60*1e3}],kt=[{id:1,name:"statistics",link:"",title:"Статистика"},{id:2,name:"achievements",link:"/achievements",title:"Достижения"},{id:3,name:"blog",link:"/blog",title:"Блог"}],z=e=>{const i=e%60,s=Math.floor(e/60%60),n=Math.floor(e/60/60%24),a=Math.floor(e/60/60/24);if(s===0&&n===0&&a===0)return`${i} сек`;if(n===0&&a===0&&s!==0)return`${s} мин ${i} сек`;if(a===0&&n>=2&&s!==0)return`${n} час ${s} мин`;if(a===0&&n!==0&&s!==0)return`${n} ч ${s} мин ${i} сек`;if(a>=30&&n!==0&&s!==0)return`${a} д`;if(a>=7&&n!==0&&s!==0)return`${a} д ${n} ч`;if(a!==0&&n!==0&&s!==0)return`${a} д ${n} ч ${s} мин`},Q=O({name:"navigation",initialState:{current:"statistics"},reducers:{setStateNavigation(e,i){e.current=i.payload}}}),{setStateNavigation:bt}=Q.actions,wt=Q.reducer;function qt(){const e=B(n=>n.navigation.current),i=M(),s=n=>{i(bt(n))};return t.jsx("nav",{children:t.jsx("ul",{className:C.navigation,children:kt.map(n=>t.jsx($,{to:n.link,className:C.navigation__link,onClick:()=>s(n.name),children:t.jsx("li",{className:`${e===`${n.name}`?`${C.navigation__nav} ${C.navigation__navActive}`:C.navigation__nav} `,children:n.title})},n.id))})})}const $t={};function yt(){return t.jsxs("main",{className:$t.main,children:[t.jsx(qt,{}),t.jsx(Z,{})]})}function Tt(){return t.jsx("span",{children:"Вход в акк"})}const Ct="_blog_iw572_1",It="_blog__title_iw572_6",V={blog:Ct,blog__title:It};function Dt(){return t.jsx("section",{className:V.blog,children:t.jsx("h1",{className:V.blog__title,children:"Блог"})})}const Ft="_notFound_1tgdz_1",At="_notFound__link_1tgdz_9",R={notFound:Ft,notFound__link:At};function Bt(){return t.jsxs("section",{className:R.notFound,children:[t.jsx("h1",{children:"Страница не найдена :("}),t.jsx($,{className:R.notFound__link,to:"/",children:t.jsx("p",{children:"На главную"})})]})}const Vt="_profile_5xkox_1",Rt="_profile__title_5xkox_7",Pt="_profile__avatar_5xkox_10",Lt="_profile__inputAvatar_5xkox_18",Et="_profile__labelAvatar_5xkox_21",Zt="_profile__form_5xkox_33",Mt="_profile__input_5xkox_18",u={profile:Vt,profile__title:Rt,profile__avatar:Pt,profile__inputAvatar:Lt,profile__labelAvatar:Et,profile__form:Zt,profile__input:Mt},Ot="/dont-vape/assets/no-avatar2-ECt9iyYM.png",W=O({name:"name",initialState:{current:localStorage.getItem("name")?localStorage.getItem("name"):""},reducers:{setName(e,i){e.current=i.payload}}}),{setName:H}=W.actions,zt=W.reducer;function Qt({handleStart:e}){const i=M(),s=B(o=>o.name.current),n=o=>{i(H(o))},{timeDontVape:a,setTimeDontVape:r,isRunning:d}=l.useContext(I),[y,S]=l.useState(Ot),[T,k]=l.useState(""),b=o=>{const p=o.target.files[0];if(p){const c=new FileReader;c.onloadend=()=>{S(c.result),localStorage.setItem("avatar",c.result)},c.readAsDataURL(p)}},w=o=>{o.preventDefault()},q=o=>{const p=o.target.value;k(p);const c=new Date(p).getTime();r(c),localStorage.setItem("DateStopSmoke",c)};return l.useEffect(()=>{const o=localStorage.getItem("DateStopSmoke");if(o){const c=new Date(parseInt(o,10)).toISOString().slice(0,16);k(c)}},[]),l.useEffect(()=>{localStorage.setItem("name",s)},[s]),l.useEffect(()=>{const o=localStorage.getItem("avatar");o&&S(o)},[]),t.jsxs("section",{className:u.profile,children:[t.jsx("h1",{className:u.profile__title,children:"Профиль"}),t.jsx("img",{className:u.profile__avatar,src:y,alt:"ваше фото"}),t.jsx("label",{className:u.profile__labelAvatar,htmlFor:"imageInput",children:"Выбрать фото"}),t.jsx("input",{accept:"image/*",type:"file",id:"imageInput",onChange:b,className:u.profile__inputAvatar}),t.jsxs("form",{className:u.profile__form,onSubmit:w,children:[t.jsx("label",{htmlFor:"inputName",children:"Ваше имя"}),t.jsx("input",{placeholder:"Введите имя",id:"inputName",value:s,onChange:o=>n(o.target.value),type:"text",className:u.profile__input})]}),d&&t.jsxs("form",{className:u.profile__form,onSubmit:w,children:[t.jsx("label",{htmlFor:"inputDate",children:"Не курю с: "}),t.jsx("input",{id:"inputDate",type:"datetime-local",value:T,onChange:q,className:u.profile__input})]})]})}const Wt="_achievements_1cmkf_1",Ht="_achievements__title_1cmkf_7",P={achievements:Wt,achievements__title:Ht},Yt="_steps_v6i2h_1",Kt="_steps__itemTitle_v6i2h_9",Ut="_steps__itemTitle2_v6i2h_13",Xt="_steps__item_v6i2h_9",Gt="_steps__itemFinish_v6i2h_17",N={steps:Yt,steps__itemTitle:Kt,steps__itemTitle2:Ut,steps__item:Xt,steps__itemFinish:Gt};function Jt(){const{timeDontVape:e,isRunning:i}=l.useContext(I);return t.jsx("ul",{className:N.steps,children:_.map(s=>{const n=s.time/1e3-e;return t.jsxs("li",{className:n>0||i===!1?N.steps__item:N.steps__itemFinish,children:[t.jsx("h1",{className:N.steps__itemTitle,children:s.title}),n>0?t.jsx(t.Fragment,{children:t.jsxs("p",{className:N.steps__itemTitle2,children:["Осталось: ",z(n)]})}):t.jsx(t.Fragment,{children:i===!1?t.jsx("p",{className:N.steps__itemTitle2,children:'Нажмите кнопку "Начать"'}):t.jsx("p",{className:N.steps__itemTitle2,children:"Готово"})})]},s.id)})})}function te(){return t.jsxs("section",{className:P.achievements,children:[t.jsx("h1",{className:P.achievements__title,children:"Достижения"}),t.jsx(Jt,{})]})}const ee="_settings_1yvp2_1",L={settings:ee};function se(){return t.jsx("span",{className:L.settings,children:t.jsx("h1",{className:L.settings__title,children:"Настройки"})})}const ne="_hello_12umk_1",ie="_hello__name_12umk_8",ae="_hello__text_12umk_11",le="_hello__title_12umk_25",h={hello:ne,hello__name:ie,hello__text:ae,hello__title:le};function oe(){const e=B(s=>s.name.current),{isRunning:i}=l.useContext(I);return t.jsx("div",{className:h.hello,children:i===!1?t.jsxs(t.Fragment,{children:[e?t.jsxs("h1",{className:h.hello__title,children:["Привет, ",t.jsx("span",{className:h.hello__name,children:e})]}):t.jsx("h1",{className:h.hello__title,children:"Привет"}),t.jsx("p",{className:h.hello__text,children:"Начни бросать курить прямо сейчас!"})]}):t.jsxs(t.Fragment,{children:[e?t.jsxs("h1",{className:h.hello__title,children:["С возвращением, ",t.jsx("span",{className:h.hello__name,children:e})]}):t.jsx("h1",{className:h.hello__title,children:"С возвращением"}),t.jsx("p",{className:h.hello__text,children:"Пока вас не было, ваша статистика улучшилась, хорошая работа!"})]})})}const re="_startButton_1hjie_1",ce={startButton:re};function _e({handleStart:e}){return t.jsx("button",{onClick:e,className:ce.startButton,children:"Начать"})}const me="_iVapeButton_ltib4_1",de={iVapeButton:me};function ue({handleRestart:e}){return t.jsx("button",{onClick:e,className:de.iVapeButton,children:"Я покурил"})}const he="_window_dtw1r_1",pe="_window__textContent_dtw1r_30",xe="_window__button_dtw1r_33",A={window:he,window__textContent:pe,window__button:xe};function ge({stateIVapeWindow:e,setStateIVapeWindow:i}){return t.jsxs("div",{className:A.window,children:[t.jsx("p",{className:A.window__textContent,children:"Срывы случаются, и это нормально. Важно не сдаваться и продолжать двигаться вперед. Помните, что каждый день — это новый шанс начать заново. Вы сможете!"}),t.jsx("button",{onClick:()=>i(!1),className:A.window__button,children:"Продолжить"})]})}const fe="_statistics_1g6pc_1",je="_statistics__timer_1g6pc_18",ve="_statistics__block_1g6pc_31",Ne="_statistics__title_1g6pc_37",Se="_statistics__p_1g6pc_44",m={statistics:fe,statistics__timer:je,statistics__block:ve,statistics__title:Ne,statistics__p:Se},ke="_chart_z6dlm_1",be={chart:ke};st.register(nt,it,at);const we={id:"centerTextPlugin",afterDraw:e=>{const{ctx:i,chartArea:{top:s,right:n,bottom:a,left:r,width:d,height:y}}=e,S=(r+n)/2,T=(s+a)/2,k=e.data.datasets[0].data[0],b=e.data.datasets[0].data.reduce((q,o)=>q+o,0),w=(k/b*100).toFixed(2);i.save(),i.font="bold 24px Arial",i.fillStyle="#333",i.textAlign="center",i.textBaseline="middle",i.fillText(`${w}%`,S,T),i.restore()}},E=({value:e,maxValue:i})=>{const s={labels:["Progress","Remaining"],datasets:[{data:[e,i-e],backgroundColor:["#1a38a5","#e0e0e0"],borderWidth:0}]},n={cutout:"80%",plugins:{legend:{display:!1},tooltip:{enabled:!1},centerTextPlugin:{enabled:!0}},elements:{arc:{borderWidth:2,borderColor:"#ffffff"}},layout:{padding:20}};return t.jsx("div",{className:be.chart,style:{width:"300px",height:"300px"},children:t.jsx(et,{data:s,options:n,plugins:[we]})})};function qe(){const{timeDontVape:e,setTimeDontVape:i,isRunning:s,setIsRunning:n}=l.useContext(I),a=l.useRef(null),[r,d]=l.useState(!1),y=()=>{a.current=setInterval(()=>{const x=localStorage.getItem("DateStopSmoke");i(Math.round((new Date().getTime()-x)/1e3))},1e3)};l.useEffect(()=>(s&&y(),()=>{a.current&&clearInterval(a.current)}),[s]);const S=()=>{if(s)return;a.current&&clearInterval(a.current),localStorage.getItem("DateStopSmoke")||localStorage.setItem("DateStopSmoke",new Date().getTime()),n(!0),localStorage.setItem("isRunning",!0),y()},T=()=>{s&&(d(!0),i(0),localStorage.setItem("DateStopSmoke",new Date().getTime()))};l.useEffect(()=>{Y(e*1e3),c(e*1e3)},[e]);const[k,b]=l.useState(0),[w,q]=l.useState(0),[o,p]=l.useState(""),c=x=>{let D=null,F=null;for(let j=1;j<_.length;j++){const K=()=>{D=x-_[j-1].time,F=_[j].time-_[j-1].time,p(_[j].title)};if(_[j].time>x){K();break}}D/F*100<100?q(D/F*100):q(100)},Y=x=>{x/_[_.length-1].time*100<100?b(x/_[_.length-1].time*100):b(100)};return t.jsxs(t.Fragment,{children:[t.jsx(oe,{}),r&&t.jsx(ge,{stateIVapeWindow:r,setStateIVapeWindow:d}),s===!1?t.jsx(_e,{handleStart:S}):t.jsxs(t.Fragment,{children:[t.jsx(ue,{handleRestart:T}),t.jsxs("h1",{className:m.statistics__timer,children:["Не курю: ",z(e)]})]}),s===!1?t.jsx(t.Fragment,{}):t.jsxs("div",{className:m.statistics,children:[t.jsxs("div",{className:m.statistics__block,children:[t.jsxs("h2",{className:m.statistics__title,children:["Текущая цель (",o,")"]}),t.jsx("p",{className:m.statistics__p,children:"Прогресс вашей текущей цели"}),t.jsx("div",{className:m.statistics__chart,children:t.jsx(E,{value:w,maxValue:100})})]}),t.jsxs("div",{className:m.statistics__block,children:[t.jsx("h2",{className:m.statistics__title,children:"Полный прогресс"}),t.jsx("p",{className:m.statistics__p,children:"Общий прогресс в оздоровлении вашего организма"}),t.jsx("div",{className:m.statistics__chart,children:t.jsx(E,{value:k,maxValue:100})})]})]}),t.jsx(Z,{})]})}const I=l.createContext(0);function $e(){const[e,i]=l.useState(0),[s,n]=l.useState(!1);return l.useEffect(()=>{localStorage.getItem("isRunning")?n(localStorage.getItem("isRunning")):n(!1);const a=localStorage.getItem("name");a&&H(a)},[]),t.jsx(t.Fragment,{children:t.jsxs(I.Provider,{value:{timeDontVape:e,setTimeDontVape:i,isRunning:s,setIsRunning:n},children:[t.jsx(ft,{}),t.jsxs(X,{children:[t.jsxs(g,{path:"",element:t.jsx(yt,{}),children:[t.jsx(g,{path:"",element:t.jsx(qe,{})}),t.jsx(g,{path:"/achievements",element:t.jsx(te,{})}),t.jsx(g,{path:"/blog",element:t.jsx(Dt,{})})]}),t.jsx(g,{path:"/profile",element:t.jsx(Qt,{})}),t.jsx(g,{path:"/settings",element:t.jsx(se,{})}),t.jsx(g,{path:"/login",element:t.jsx(Tt,{})}),t.jsx(g,{path:"*",element:t.jsx(Bt,{})})]})]})})}const ye=tt({reducer:{navigation:wt,name:zt}});U(document.getElementById("root")).render(t.jsx(J,{store:ye,children:t.jsx(G,{children:t.jsx($e,{})})}));
